#version 140

uniform mat4 mModelViewProjection;
uniform vec3 vPrimaryLight;
uniform mat4 mTransform;

in vec4 Vertex;

out vec4 vVertexWS;

void main()
{
 vVertexWS = mTransform * Vertex;
 gl_Position = mModelViewProjection * vVertexWS;
 vVertexWS.w = distance( vVertexWS.xyz, vPrimaryLight );
}